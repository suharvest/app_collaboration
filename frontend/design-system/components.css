/**
 * Provisioning Station Design System - Component Classes
 */

@layer components {
  /* ============================================
     1. LAYOUT - Core App Structure
     ============================================ */

  .app-wrapper {
    @apply flex h-screen w-screen;
  }

  .sidebar {
    width: 260px;
    @apply bg-sidebar border-r border-border flex flex-col flex-shrink-0;
    transition: width 0.3s;
  }

  .main-content {
    @apply flex-1 flex flex-col min-w-0 bg-body;
  }

  .content-scroll-area {
    @apply flex-1 overflow-y-auto p-6;
  }

  .page-header {
    @apply mb-6;
  }

  .page-title {
    @apply text-xl font-semibold text-text-primary;
  }

  /* ============================================
     2. NAVIGATION - Sidebar Navigation
     ============================================ */

  .logo-area {
    height: 64px;
    @apply flex items-center px-5 gap-3 border-b border-transparent;
  }

  .logo-icon {
    @apply w-8 h-8 bg-primary text-white rounded-md flex items-center justify-center;
  }

  .logo-text .brand {
    @apply font-bold text-base text-text-primary;
  }

  .side-nav {
    @apply py-5 px-3 flex flex-col gap-2 flex-1;
  }

  .nav-item {
    @apply flex items-center gap-3 py-3 px-4 rounded-lg
           text-text-secondary text-sm font-medium
           transition-all duration-200 cursor-pointer
           w-full text-left bg-transparent border-none no-underline;
  }

  .nav-item:hover {
    @apply bg-hover text-text-primary;
  }

  .nav-item.active {
    @apply bg-primary-light text-primary font-semibold;
  }

  /* ============================================
     3. HEADER - Top Header Bar
     ============================================ */

  .top-header {
    height: 64px;
    @apply bg-sidebar border-b border-border flex items-center justify-between px-6 flex-shrink-0;
  }

  .breadcrumb {
    @apply flex items-center;
  }

  .current-page-title {
    @apply font-semibold text-lg text-text-primary;
  }

  .header-right {
    @apply flex items-center gap-4;
  }

  .lang-btn {
    @apply flex items-center gap-1.5 py-1.5 px-3 bg-transparent
           border border-border rounded cursor-pointer text-13
           text-text-secondary transition-all duration-200 h-8;
  }

  .lang-btn:hover {
    @apply border-primary text-primary bg-primary-light;
  }

  /* ============================================
     4. SOLUTION CARDS
     ============================================ */

  .solutions-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  }

  .solution-card {
    @apply bg-card rounded-lg overflow-hidden shadow-sm border border-transparent cursor-pointer;
    transition: all 0.3s ease;
  }

  .solution-card:hover {
    @apply shadow-md border-primary;
    transform: translateY(-4px);
  }

  .solution-card-image {
    @apply w-full h-48 object-cover bg-gray-100;
  }

  .solution-card-content {
    @apply p-5;
  }

  .solution-card-title {
    @apply text-lg font-semibold text-text-primary mb-2;
  }

  .solution-card-description {
    @apply text-sm text-text-secondary mb-4 line-clamp-2;
  }

  .solution-card-meta {
    @apply flex items-center gap-4 text-xs text-text-muted;
  }

  .solution-card-tag {
    @apply py-0.5 px-2 bg-primary-light text-primary rounded text-xs;
  }

  /* ============================================
     5. DEVICE CARDS
     ============================================ */

  .device-list {
    @apply flex flex-col gap-4;
  }

  .device-card {
    @apply bg-card rounded-lg p-5 shadow-sm border border-border;
  }

  .device-card-header {
    @apply flex items-center justify-between mb-4;
  }

  .device-card-title {
    @apply text-base font-semibold text-text-primary flex items-center gap-2;
  }

  .device-status {
    @apply py-1 px-2 rounded text-xs font-medium;
  }

  .device-status.detected {
    @apply bg-[#effce8] text-success;
  }

  .device-status.not-detected {
    @apply bg-[#fff1f0] text-danger;
  }

  .device-status.manual-required {
    @apply bg-[#fff7e6] text-warning;
  }

  .device-wiring {
    @apply mb-4;
  }

  .device-wiring-image {
    @apply w-full max-h-40 object-contain bg-gray-50 rounded mb-3;
  }

  .device-wiring-steps {
    @apply text-sm text-text-secondary space-y-1;
  }

  .device-deploy-btn {
    @apply w-full py-3 px-4 bg-primary text-white rounded-lg font-medium
           transition-all duration-200 flex items-center justify-center gap-2;
  }

  .device-deploy-btn:hover {
    @apply bg-primary-hover;
  }

  .device-deploy-btn:disabled {
    @apply bg-gray-300 cursor-not-allowed;
  }

  /* ============================================
     6. DEPLOYMENT PROGRESS
     ============================================ */

  .deployment-progress {
    @apply bg-card rounded-lg p-5 shadow-sm;
  }

  .progress-steps {
    @apply flex flex-col gap-3;
  }

  .progress-step {
    @apply flex items-center gap-3 py-2;
  }

  .progress-step-icon {
    @apply w-6 h-6 rounded-full flex items-center justify-center text-sm;
  }

  .progress-step-icon.pending {
    @apply bg-gray-100 text-text-muted;
  }

  .progress-step-icon.running {
    @apply bg-info text-white;
  }

  .progress-step-icon.completed {
    @apply bg-success text-white;
  }

  .progress-step-icon.failed {
    @apply bg-danger text-white;
  }

  .progress-step-content {
    @apply flex-1;
  }

  .progress-step-name {
    @apply text-sm font-medium text-text-primary;
  }

  .progress-step-message {
    @apply text-xs text-text-secondary mt-0.5;
  }

  .progress-bar {
    @apply h-2 bg-gray-100 rounded-full overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full bg-primary transition-all duration-300;
  }

  /* ============================================
     7. LOG VIEWER
     ============================================ */

  .log-viewer {
    @apply bg-gray-900 rounded-lg p-4 font-mono text-sm max-h-[400px] overflow-y-auto;
  }

  .log-entry {
    @apply py-1 flex gap-2;
  }

  .log-timestamp {
    @apply text-gray-500;
  }

  .log-level {
    @apply font-medium;
  }

  .log-level.info {
    @apply text-blue-400;
  }

  .log-level.warning {
    @apply text-yellow-400;
  }

  .log-level.error {
    @apply text-red-400;
  }

  .log-message {
    @apply text-gray-200;
  }

  /* ============================================
     8. BUTTONS
     ============================================ */

  .btn {
    @apply py-2 px-4 rounded-lg border border-transparent cursor-pointer text-sm
           transition-all duration-200 inline-flex items-center gap-2 justify-center font-medium;
  }

  .btn-primary {
    @apply bg-primary text-white;
  }

  .btn-primary:hover {
    @apply bg-primary-hover;
  }

  .btn-secondary {
    @apply bg-white border-border text-text-primary;
  }

  .btn-secondary:hover {
    @apply border-primary text-primary;
  }

  .btn-danger {
    @apply bg-danger text-white;
  }

  .btn-danger:hover {
    @apply bg-red-600;
  }

  /* Deploy Hero Button - Large CTA */
  .btn-deploy-hero {
    @apply py-3 px-8 rounded-lg cursor-pointer text-base font-semibold
           inline-flex items-center gap-3 justify-center
           bg-primary text-white shadow-md;
    transition: all 0.2s ease;
    min-width: 180px;
  }

  .btn-deploy-hero:hover {
    @apply bg-primary-hover shadow-lg;
    transform: translateY(-1px);
  }

  .btn-deploy-hero:active {
    transform: translateY(0);
  }

  .btn-deploy-hero svg {
    @apply w-5 h-5;
  }

  /* ============================================
     9. FORMS
     ============================================ */

  .form-group {
    @apply mb-4;
  }

  .form-group label {
    @apply block mb-1.5 text-text-secondary text-13 font-medium;
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    @apply w-full py-2 px-3 border border-border rounded-md text-sm transition-all duration-200 bg-white;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    @apply outline-none border-primary;
    box-shadow: 0 0 0 2px rgba(140, 198, 63, 0.1);
  }

  /* ============================================
     10. MODALS
     ============================================ */

  .modal {
    @apply fixed inset-0 bg-black/50 z-modal flex items-center justify-center;
  }

  .modal-content {
    @apply bg-white rounded-lg w-[90%] max-h-[90vh] overflow-y-auto shadow-lg flex flex-col;
    max-width: 500px;
  }

  .modal-header {
    @apply py-5 px-6 border-b border-border flex justify-between items-center;
  }

  .modal-header h3 {
    @apply text-lg m-0 font-semibold;
  }

  .close-btn {
    @apply bg-transparent border-none text-2xl cursor-pointer text-text-muted transition-colors duration-200;
  }

  .close-btn:hover {
    @apply text-text-primary;
  }

  .modal-body {
    @apply p-6;
  }

  .modal-footer {
    @apply py-5 px-6 border-t border-border flex justify-end gap-3;
  }

  /* Dialog (confirmation dialogs) */
  .dialog-overlay {
    @apply fixed inset-0 bg-black/50 z-modal flex items-center justify-center;
    animation: fadeIn 0.15s ease-out;
  }

  .dialog {
    @apply bg-white rounded-lg shadow-xl;
    max-width: 420px;
    width: 90%;
    animation: slideUp 0.2s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .dialog-header {
    @apply flex items-center gap-3 p-5 border-b border-border;
  }

  .dialog-header svg {
    @apply text-warning flex-shrink-0;
  }

  .dialog-header h3 {
    @apply text-base font-semibold text-text-primary m-0;
  }

  .dialog-body {
    @apply p-5;
  }

  .dialog-body p {
    @apply text-sm text-text-secondary m-0;
  }

  .dialog-body .dialog-hint {
    @apply mt-3 text-xs text-text-muted;
  }

  .dialog-actions {
    @apply flex justify-end gap-3 p-4 border-t border-border bg-card;
    border-radius: 0 0 0.5rem 0.5rem;
  }

  /* ============================================
     11. STATUS BADGES
     ============================================ */

  .status-badge {
    @apply py-1 px-2 rounded text-xs font-medium;
  }

  .status-badge.ready {
    @apply bg-[#effce8] text-success;
  }

  .status-badge.running {
    @apply bg-[#e6f7ff] text-info;
  }

  .status-badge.failed {
    @apply bg-[#fff1f0] text-danger;
  }

  .status-badge.pending {
    @apply bg-[#f5f5f5] text-text-muted;
  }

  /* ============================================
     12. INTRO PAGE
     ============================================ */

  .solution-intro {
    @apply max-w-4xl mx-auto;
  }

  .solution-hero {
    @apply mb-4;
  }

  /* Sticky Header for Title + Deploy Button */
  .solution-sticky-header {
    position: sticky;
    top: 0;
    z-index: 40;
    @apply mb-6 -mx-6 px-6 pb-4;
    background: #f4f7f0;
    transition: box-shadow 0.2s ease;
  }

  /* Extend background upward to cover any gap */
  .solution-sticky-header::before {
    content: '';
    position: absolute;
    top: -100px;
    left: 0;
    right: 0;
    height: 100px;
    background: inherit;
    z-index: -1;
  }

  .solution-sticky-header.is-stuck {
    @apply shadow-sm;
    border-bottom: 1px solid var(--color-border);
  }

  .solution-sticky-header-inner {
    @apply max-w-4xl mx-auto;
  }

  .solution-hero-image {
    @apply w-full h-64 object-cover rounded-lg shadow-sm mb-6;
  }

  /* Hero Carousel */
  .hero-carousel {
    @apply relative rounded-lg overflow-hidden shadow-sm;
  }

  .hero-carousel-track {
    @apply relative w-full;
    aspect-ratio: 21 / 9;
  }

  .hero-carousel-slide {
    @apply absolute inset-0 opacity-0;
    transition: opacity 0.4s ease;
  }

  .hero-carousel-slide.active {
    @apply opacity-100;
  }

  .hero-carousel-image {
    @apply w-full h-full object-cover;
  }

  .hero-carousel-prev,
  .hero-carousel-next {
    @apply absolute top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center cursor-pointer border-0 text-text-secondary;
    transition: background 0.2s, transform 0.2s;
    z-index: 2;
  }

  .hero-carousel-prev { @apply left-3; }
  .hero-carousel-next { @apply right-3; }

  .hero-carousel-prev:hover,
  .hero-carousel-next:hover {
    @apply bg-white text-text-primary shadow-md;
  }

  .hero-carousel-dots {
    @apply absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5;
    z-index: 2;
  }

  .hero-carousel-dot {
    @apply w-2 h-2 rounded-full bg-white/60 border-0 cursor-pointer p-0;
    transition: background 0.2s, transform 0.2s;
  }

  .hero-carousel-dot.active {
    @apply bg-white scale-125;
  }

  .hero-carousel-dot:hover:not(.active) {
    @apply bg-white/90;
  }

  /* Carousel Modal (full-screen image viewer with navigation) */
  .carousel-modal-content {
    @apply relative flex items-center justify-center;
    max-width: 90vw;
    max-height: 90vh;
  }

  .carousel-modal-image {
    max-width: 90vw;
    max-height: 85vh;
    object-fit: contain;
    border-radius: 8px;
  }

  .carousel-modal-close {
    @apply absolute top-2 right-2 w-9 h-9 rounded-full bg-black/50 text-white text-xl flex items-center justify-center cursor-pointer border-0;
    z-index: 10;
    line-height: 1;
  }

  .carousel-modal-close:hover {
    @apply bg-black/70;
  }

  .carousel-modal-prev,
  .carousel-modal-next {
    @apply absolute top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/40 text-white flex items-center justify-center cursor-pointer border-0;
    z-index: 10;
    transition: background 0.2s;
  }

  .carousel-modal-prev { left: -50px; }
  .carousel-modal-next { right: -50px; }

  .carousel-modal-prev:hover,
  .carousel-modal-next:hover {
    @apply bg-black/70;
  }

  .carousel-modal-counter {
    @apply absolute bottom-3 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-black/50 text-white text-sm;
  }

  .solution-title {
    @apply text-2xl font-bold text-text-primary mb-3;
  }

  .solution-summary {
    @apply text-lg text-text-secondary mb-6;
  }

  .solution-stats {
    @apply flex items-center gap-6 mb-4;
  }

  /* Inline Device Chips */
  .solution-devices-inline {
    @apply flex flex-wrap gap-2 mt-2;
  }

  .device-chip {
    @apply inline-flex items-center gap-2 px-3 py-1.5 bg-white border-2 border-border rounded-full text-sm text-text-primary no-underline;
    transition: border-color 0.2s, background-color 0.2s;
  }

  .device-chip:hover {
    @apply border-primary bg-primary-light;
  }

  .device-chip img {
    @apply w-6 h-6 object-contain rounded;
  }

  .solution-stat {
    @apply flex items-center gap-2 text-sm text-text-secondary;
  }

  .solution-devices {
    @apply grid grid-cols-2 gap-4 mb-8;
  }

  .required-device {
    @apply bg-card rounded-lg p-4 flex items-center gap-4 shadow-sm;
  }

  .required-device-image {
    @apply w-16 h-16 object-contain bg-gray-50 rounded;
  }

  .required-device-info {
    @apply flex-1;
  }

  .required-device-name {
    @apply font-medium text-text-primary;
  }

  .required-device-desc {
    @apply text-sm text-text-secondary;
  }

  /* ============================================
     9. PARTNERS - Deployment Partners Section
     ============================================ */

  .partners-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8;
  }

  .partner-card {
    @apply bg-card rounded-lg p-5 border-2 border-border shadow-sm;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .partner-card:hover {
    @apply border-primary/50 shadow-md;
  }

  .partner-header {
    @apply flex items-center gap-3 mb-3;
  }

  .partner-logo {
    @apply w-12 h-12 object-contain bg-gray-100 rounded-lg p-1.5;
  }

  .partner-logo-placeholder {
    @apply w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400;
  }

  .partner-name {
    @apply font-semibold text-text-primary text-base;
  }

  .partner-regions {
    @apply flex items-center gap-2 text-sm text-text-secondary mb-3 pl-1;
  }

  .partner-regions svg {
    @apply text-primary flex-shrink-0;
  }

  .partner-actions {
    @apply flex flex-col gap-2 pt-3 border-t-2 border-border;
  }

  .partner-contact,
  .partner-website {
    @apply flex items-center gap-2 text-sm text-text-secondary no-underline;
    transition: color 0.2s;
  }

  .partner-contact:hover,
  .partner-website:hover {
    @apply text-primary;
  }

  .partner-contact svg,
  .partner-website svg {
    @apply flex-shrink-0;
  }

  .partners-description {
    @apply text-sm text-text-secondary mb-4;
  }

  .partner-register-box {
    @apply flex items-center justify-between p-4 bg-primary-light/50 rounded-lg border-2 border-dashed border-primary/30 mb-8;
  }

  .partner-register-info {
    @apply flex items-center gap-3 text-sm text-text-secondary;
  }

  .partner-register-info svg {
    @apply text-primary flex-shrink-0;
  }

  .deploy-button {
    @apply w-full py-4 px-6 bg-primary text-white rounded-lg font-semibold text-lg
           transition-all duration-200 flex items-center justify-center gap-3;
  }

  .deploy-button:hover {
    @apply bg-primary-hover;
  }

  /* ============================================
     13. GALLERY
     ============================================ */

  .gallery {
    @apply grid grid-cols-3 gap-4 mb-8;
  }

  .gallery-item {
    @apply rounded-lg overflow-hidden cursor-pointer;
    transition: transform 0.2s;
  }

  .gallery-item:hover {
    transform: scale(1.02);
  }

  .gallery-image {
    @apply w-full h-32 object-cover;
  }

  .gallery-video {
    @apply relative;
  }

  .gallery-video::after {
    content: '▶';
    @apply absolute inset-0 flex items-center justify-center text-white text-3xl bg-black/30;
  }

  /* ============================================
     14. MARKDOWN CONTENT (Wiki-style)
     ============================================ */

  .markdown-content {
    @apply text-text-primary leading-relaxed;
  }

  /* Headings */
  .markdown-content h1 {
    @apply text-2xl font-bold text-text-primary mt-8 mb-4 pb-2 border-b border-border;
  }

  .markdown-content h2 {
    @apply text-xl font-semibold text-text-primary mt-6 mb-3 pb-1.5 border-b border-border/50;
  }

  .markdown-content h3 {
    @apply text-lg font-semibold text-text-primary mt-5 mb-2;
  }

  .markdown-content h4 {
    @apply text-base font-semibold text-text-primary mt-4 mb-2;
  }

  .markdown-content h1:first-child,
  .markdown-content h2:first-child,
  .markdown-content h3:first-child {
    @apply mt-0;
  }

  /* Paragraphs */
  .markdown-content p {
    @apply mb-4 text-sm leading-7;
  }

  /* Links */
  .markdown-content a {
    @apply text-primary hover:underline;
  }

  /* Lists */
  .markdown-content ul,
  .markdown-content ol {
    @apply mb-4 pl-6 text-sm;
  }

  .markdown-content ul {
    @apply list-disc;
  }

  .markdown-content ol {
    @apply list-decimal;
  }

  .markdown-content li {
    @apply mb-2 leading-6;
  }

  .markdown-content li > ul,
  .markdown-content li > ol {
    @apply mt-2 mb-0;
  }

  /* Code - Inline */
  .markdown-content code {
    @apply bg-gray-100 text-red-600 px-1.5 py-0.5 rounded text-13 font-mono;
  }

  /* Code - Block */
  .markdown-content pre {
    @apply bg-gray-900 text-gray-100 rounded-lg p-4 mb-4 overflow-x-auto;
  }

  .markdown-content pre code {
    @apply bg-transparent text-gray-100 p-0 text-13 leading-6;
  }

  /* Tables */
  .markdown-content table {
    @apply w-full mb-4 border-collapse text-sm;
  }

  .markdown-content th {
    @apply bg-gray-50 border border-border px-4 py-2.5 text-left font-semibold text-text-primary;
  }

  .markdown-content td {
    @apply border border-border px-4 py-2.5 text-text-secondary;
  }

  .markdown-content tr:hover td {
    @apply bg-gray-50/50;
  }

  /* Blockquotes */
  .markdown-content blockquote {
    @apply border-l-4 border-primary bg-primary-light/30 pl-4 py-3 pr-4 mb-4 rounded-r-lg;
  }

  .markdown-content blockquote p {
    @apply mb-0 text-text-secondary italic;
  }

  /* Admonitions / Tips (using > **提示**: format) */
  .markdown-content blockquote strong {
    @apply text-primary not-italic;
  }

  /* Horizontal Rule */
  .markdown-content hr {
    @apply border-0 border-t border-border my-6;
  }

  /* Images */
  .markdown-content img {
    @apply max-w-full h-auto rounded-lg shadow-sm my-4;
  }

  /* Strong & Emphasis */
  .markdown-content strong {
    @apply font-semibold text-text-primary;
  }

  .markdown-content em {
    @apply italic;
  }

  /* Task Lists (checkboxes) */
  .markdown-content ul.task-list {
    @apply list-none pl-0;
  }

  .markdown-content li.task-list-item {
    @apply flex items-start gap-2;
  }

  .markdown-content input[type="checkbox"] {
    @apply w-4 h-4 mt-1 accent-primary;
  }

  /* Definition Lists */
  .markdown-content dl {
    @apply mb-4;
  }

  .markdown-content dt {
    @apply font-semibold text-text-primary mt-4;
  }

  .markdown-content dd {
    @apply ml-4 text-text-secondary;
  }

  /* Enhanced styles for intro page (darker/stronger) */
  .markdown-content-intro h2 {
    @apply border-b-2 border-gray-300;
  }

  .markdown-content-intro h3 {
    @apply border-l-4 border-primary pl-3;
  }

  .markdown-content-intro table {
    @apply border-2 border-gray-300;
  }

  .markdown-content-intro th {
    @apply bg-gray-100 border-2 border-gray-300 text-gray-800;
  }

  .markdown-content-intro td {
    @apply border-2 border-gray-300 text-gray-700;
  }

  .markdown-content-intro tr:hover td {
    @apply bg-gray-50;
  }

  .markdown-content-intro blockquote {
    @apply border-l-4 border-primary bg-primary-light/30;
  }

  .markdown-content-intro code:not(pre code) {
    @apply bg-gray-200 text-gray-800 font-semibold;
  }

  /* ============================================
     15. DEPLOY PAGE (Wiki-style)
     ============================================ */

  .deploy-page {
    @apply max-w-4xl mx-auto;
  }

  .deploy-section {
    @apply bg-card rounded-lg shadow-sm border border-border mb-6 overflow-hidden;
  }

  .deploy-section-header {
    @apply flex items-center gap-4 p-5 border-b border-border bg-gray-50/50 cursor-pointer;
  }

  .deploy-section-header:hover {
    @apply bg-gray-50;
  }

  .deploy-section-step {
    @apply w-8 h-8 rounded-full bg-primary text-white font-semibold text-sm
           flex items-center justify-center flex-shrink-0;
  }

  .deploy-section-step.completed {
    @apply bg-success;
  }

  .deploy-section-info {
    @apply flex-1 min-w-0;
  }

  .deploy-section-title {
    @apply font-semibold text-text-primary text-base;
  }

  .deploy-section-subtitle {
    @apply text-sm text-text-secondary mt-0.5;
  }

  .deploy-section-status {
    @apply flex items-center gap-2 text-sm font-medium px-3 py-1 rounded-full;
  }

  .deploy-section-status.pending {
    @apply bg-gray-100 text-text-muted;
  }

  .deploy-section-status.ready {
    @apply bg-blue-50 text-info;
  }

  .deploy-section-status.running {
    @apply bg-primary-light text-primary;
  }

  .deploy-section-status.completed {
    @apply bg-green-50 text-success;
  }

  .deploy-section-status.failed {
    @apply bg-red-50 text-danger;
  }

  .deploy-section-chevron {
    @apply text-text-muted transition-transform duration-200;
  }

  .deploy-section-chevron.expanded {
    @apply rotate-180;
  }

  .deploy-section-content {
    @apply p-5 hidden;
  }

  .deploy-section-content.expanded {
    @apply block;
  }

  /* Device Group Section (template-based instructions) */
  .deploy-device-group-section {
    @apply bg-card rounded-lg shadow-sm border border-border mb-6 p-5;
  }

  .deploy-device-group-header {
    @apply flex items-center justify-between mb-4 pb-3 border-b border-border;
  }

  .deploy-device-group-title {
    @apply text-base font-semibold text-text-primary m-0;
  }

  .device-group-selector {
    @apply py-1.5 px-3 border border-border rounded-lg bg-white text-sm cursor-pointer;
    transition: border-color 0.2s;
  }

  .device-group-selector:hover {
    @apply border-primary;
  }

  .device-group-selector:focus {
    @apply outline-none border-primary;
    box-shadow: 0 0 0 2px rgba(140, 198, 63, 0.1);
  }

  .deploy-device-group-content {
    @apply text-sm leading-relaxed;
    transition: opacity 0.2s;
  }

  .deploy-device-group-content.loading {
    @apply opacity-50;
    pointer-events: none;
  }

  /* Preset Selector (Level 1 deployment scheme tabs) */
  .deploy-preset-selector {
    @apply flex flex-wrap gap-2 mb-4;
  }

  .deploy-preset-btn {
    @apply relative py-2 px-4 rounded-lg border-2 border-border bg-white text-sm font-medium
           text-text-secondary cursor-pointer transition-all duration-200;
  }

  .deploy-preset-btn:hover:not(.selected) {
    @apply border-primary/50 text-text-primary bg-primary/5;
  }

  .deploy-preset-btn.selected {
    @apply border-primary bg-primary/10 text-primary font-semibold;
  }

  .deploy-preset-badge {
    @apply ml-1.5 px-1.5 py-0.5 bg-primary text-white text-xs font-medium rounded;
  }

  /* Preset Section Content (Level 1 deployment guide) */
  .deploy-preset-section {
    @apply bg-card rounded-lg shadow-sm border border-border mb-6 p-5;
  }

  .deploy-preset-section-title {
    @apply text-base font-semibold text-text-primary mb-3 pb-2 border-b border-border;
  }

  .deploy-preset-section-content {
    @apply text-sm leading-relaxed;
    transition: opacity 0.2s;
  }

  .deploy-preset-section-content.loading {
    @apply opacity-50;
    pointer-events: none;
  }

  /* Preset Architecture Image (intro page) */
  .preset-architecture {
    @apply mt-4 rounded-lg overflow-hidden border border-border;
  }

  .preset-architecture-image {
    @apply w-full h-auto block;
  }

  /* Deploy Warning Banner */
  .deploy-warning-banner {
    @apply flex items-center gap-3 p-4 mb-4 rounded-lg;
    @apply bg-amber-50 border border-amber-200 text-amber-800;
  }

  .deploy-warning-banner svg {
    @apply flex-shrink-0 text-amber-500;
  }

  .deploy-warning-banner span {
    @apply text-sm leading-relaxed;
  }

  /* Deploy Action Area */
  .deploy-action-area {
    @apply bg-primary-light/30 border border-primary/20 rounded-lg p-5 mb-4;
  }

  /* Pre-deployment Instructions */
  .deploy-pre-instructions {
    @apply mb-4;
  }

  .deploy-pre-instructions .markdown-content h3 {
    @apply text-base font-semibold text-text-primary mb-2;
  }

  .deploy-pre-instructions .markdown-content ol,
  .deploy-pre-instructions .markdown-content ul {
    @apply text-sm text-text-secondary space-y-1;
  }

  /* Troubleshoot Section (shown below deploy button) */
  .deploy-troubleshoot {
    @apply mt-4 pt-4 border-t border-border;
  }

  .deploy-troubleshoot .markdown-content h3 {
    @apply text-base font-semibold text-text-primary mb-2;
  }

  .deploy-troubleshoot .markdown-content table {
    @apply text-sm;
  }

  /* Post-deployment Instructions */
  .deploy-post-instructions {
    @apply mt-4 pt-4 border-t border-border;
  }

  .deploy-post-title {
    @apply text-sm font-semibold text-text-secondary uppercase tracking-wide mb-3 flex items-center gap-2;
  }

  .deploy-post-title::before {
    content: '';
    @apply w-1 h-4 bg-primary rounded;
  }

  .deploy-action-title {
    @apply font-semibold text-text-primary mb-3 flex items-center gap-2;
  }

  .deploy-action-desc {
    @apply text-sm text-text-secondary mb-4;
  }

  .deploy-action-btn {
    @apply w-full py-3 px-4 bg-primary text-white rounded-lg font-medium text-base
           transition-all duration-200 flex items-center justify-center gap-2;
  }

  .deploy-action-btn:hover:not(:disabled) {
    @apply bg-primary-hover;
  }

  .deploy-action-btn:disabled {
    @apply bg-gray-300 cursor-not-allowed;
  }

  .deploy-action-btn.completed {
    @apply bg-success;
  }

  .deploy-action-btn.running {
    @apply bg-primary cursor-wait;
  }

  /* User Inputs */
  .deploy-user-inputs {
    @apply bg-gray-50 rounded-lg p-4 mb-4;
  }

  .deploy-user-inputs .form-group:last-child {
    @apply mb-0;
  }

  /* Model Selection (for Himax multi-model flashing) */
  .model-selection {
    @apply bg-gray-50 rounded-lg p-4 mb-4;
  }

  .model-selection .input-label {
    @apply block mb-1.5 text-text-secondary text-13 font-medium;
  }

  .model-selection .input-desc {
    @apply mb-3;
  }

  .model-list {
    @apply flex flex-col gap-2;
  }

  .model-item {
    @apply flex flex-wrap items-start gap-3 p-3 bg-white border border-border rounded-lg cursor-pointer;
    transition: border-color 0.2s, background-color 0.2s;
  }

  .model-item:hover {
    @apply border-primary bg-primary/5;
  }

  .model-item.required {
    @apply bg-primary/5 border-primary/30;
  }

  .model-item input[type="checkbox"] {
    @apply mt-0.5 w-4 h-4 rounded border-border text-primary focus:ring-primary;
  }

  .model-item input[type="checkbox"]:disabled {
    @apply opacity-60 cursor-not-allowed;
  }

  .model-info {
    @apply flex flex-wrap items-center gap-2 flex-1;
  }

  .model-name {
    @apply font-medium text-text-primary text-sm;
  }

  .model-size {
    @apply text-text-muted text-xs bg-gray-100 px-1.5 py-0.5 rounded;
  }

  .model-desc {
    @apply w-full m-0 mt-1 text-text-secondary text-xs leading-relaxed;
  }

  .badge.required {
    @apply bg-primary text-white px-2 py-0.5 rounded text-xs font-medium;
  }

  /* Logs Section */
  .deploy-logs {
    @apply mt-4 border-t border-border pt-4;
  }

  .deploy-logs-toggle {
    @apply flex items-center justify-between cursor-pointer py-2;
  }

  .deploy-logs-toggle:hover {
    @apply text-primary;
  }

  .deploy-logs-label {
    @apply flex items-center gap-2 text-sm font-medium text-text-secondary;
  }

  .deploy-logs-count {
    @apply bg-gray-200 text-text-muted text-xs px-2 py-0.5 rounded-full ml-2;
  }

  .deploy-logs-panel {
    @apply bg-gray-900 rounded-lg mt-3 max-h-0 overflow-hidden transition-all duration-300;
  }

  .deploy-logs-panel.expanded {
    @apply max-h-80;
  }

  .deploy-logs-viewer {
    @apply p-4 font-mono text-sm overflow-y-auto max-h-72;
  }

  .deploy-log-entry {
    @apply flex gap-2 py-1;
  }

  .deploy-log-entry .time {
    @apply text-gray-500 flex-shrink-0;
  }

  .deploy-log-entry .msg {
    @apply text-gray-200;
  }

  .deploy-log-entry.info .msg {
    @apply text-blue-300;
  }

  .deploy-log-entry.success .msg {
    @apply text-green-300;
  }

  .deploy-log-entry.warning .msg {
    @apply text-yellow-300;
  }

  .deploy-log-entry.error .msg {
    @apply text-red-300;
  }

  .deploy-logs-empty {
    @apply text-gray-500 text-center py-4;
  }

  .deploy-logs-options {
    @apply flex items-center justify-end px-4 py-2 border-b border-gray-700;
  }

  .deploy-logs-detail-toggle {
    @apply flex items-center gap-2 text-xs text-gray-400 cursor-pointer select-none;
  }

  .deploy-logs-detail-toggle:hover {
    @apply text-gray-200;
  }

  .deploy-logs-detail-toggle input[type="checkbox"] {
    @apply w-3.5 h-3.5 rounded border-gray-600 bg-gray-700 text-primary
           focus:ring-primary focus:ring-offset-0 cursor-pointer;
  }

  /* ============================================
     15.5 DEPLOY - SINGLE CHOICE MODE
     ============================================ */

  .deploy-choice-section {
    @apply mb-6;
  }

  .deploy-choice-header {
    @apply mb-4;
  }

  .deploy-choice-title {
    @apply text-lg font-semibold text-text-primary mb-1;
  }

  .deploy-choice-desc {
    @apply text-sm text-text-secondary;
  }

  .deploy-choice-options {
    @apply grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  .deploy-choice-option {
    @apply relative flex items-center gap-4 p-4 bg-white border-2 border-border rounded-xl
           cursor-pointer transition-all duration-200;
  }

  .deploy-choice-option:hover:not(.completed) {
    @apply border-primary/50 bg-primary/5;
  }

  .deploy-choice-option.selected {
    @apply border-primary bg-primary/5;
  }

  .deploy-choice-option.completed {
    @apply border-success bg-success/5 cursor-default;
  }

  .deploy-choice-option input[type="radio"] {
    @apply sr-only;
  }

  .deploy-choice-radio {
    @apply w-6 h-6 rounded-full border-2 border-gray-300 flex items-center justify-center
           transition-all duration-200 flex-shrink-0;
  }

  .deploy-choice-option.selected .deploy-choice-radio {
    @apply border-primary bg-primary;
  }

  .deploy-choice-option.selected .deploy-choice-radio::after {
    content: '';
    @apply w-2 h-2 bg-white rounded-full;
  }

  .deploy-choice-option.completed .deploy-choice-radio {
    @apply border-success bg-success text-white;
  }

  .deploy-choice-content {
    @apply flex items-center gap-3 flex-1;
  }

  .deploy-choice-icon {
    @apply w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500;
  }

  .deploy-choice-option.selected .deploy-choice-icon {
    @apply bg-primary/10 text-primary;
  }

  .deploy-choice-option.completed .deploy-choice-icon {
    @apply bg-success/10 text-success;
  }

  .deploy-choice-info {
    @apply flex-1;
  }

  .deploy-choice-name {
    @apply font-medium text-text-primary;
  }

  .deploy-choice-type {
    @apply text-sm text-text-secondary;
  }

  .deploy-choice-status {
    @apply flex items-center gap-1 text-sm font-medium;
  }

  .deploy-choice-status.completed {
    @apply text-success;
  }

  /* Deployment Mode Selector (local/remote) */
  .deploy-mode-selector {
    @apply mb-6;
  }

  .deploy-mode-options {
    @apply grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .deploy-mode-option {
    @apply relative flex items-center gap-3 p-4 bg-white border-2 border-border rounded-xl
           cursor-pointer transition-all duration-200;
  }

  .deploy-mode-option:hover:not(.selected) {
    @apply border-primary/50 bg-primary/5;
  }

  .deploy-mode-option.selected {
    @apply border-primary bg-primary/5;
  }

  .deploy-mode-option input[type="radio"] {
    @apply sr-only;
  }

  .deploy-mode-radio {
    @apply w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center
           transition-all duration-200 flex-shrink-0;
  }

  .deploy-mode-option.selected .deploy-mode-radio {
    @apply border-primary bg-primary;
  }

  .deploy-mode-option.selected .deploy-mode-radio::after {
    content: '';
    @apply w-2 h-2 bg-white rounded-full;
  }

  .deploy-mode-icon {
    @apply w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500;
  }

  .deploy-mode-option.selected .deploy-mode-icon {
    @apply bg-primary/10 text-primary;
  }

  .deploy-mode-info {
    @apply flex-1;
  }

  .deploy-mode-name {
    @apply font-medium text-text-primary text-sm;
  }

  .deploy-mode-desc {
    @apply text-xs text-text-secondary mt-0.5;
  }

  .deploy-mode-content {
    @apply mb-4;
  }

  /* Wiring Section */
  .deploy-wiring-section {
    @apply mb-4 p-4 bg-gray-50 rounded-lg;
  }

  .deploy-wiring-image {
    @apply mb-3;
  }

  .deploy-wiring-image img {
    @apply max-w-full h-auto rounded-lg;
  }

  .deploy-wiring-steps ol {
    @apply list-decimal list-inside text-sm text-text-secondary space-y-1;
  }

  /* Selected Device Section */
  .deploy-selected-section {
    @apply mt-6;
  }

  .deploy-selected-card {
    @apply bg-white rounded-xl border border-border p-6;
  }

  .deploy-selected-card .deploy-action-area {
    @apply bg-transparent p-0 mb-6;
  }

  .deploy-selected-card .deploy-user-inputs {
    @apply mb-6;
  }

  .deploy-selected-card .deploy-logs {
    @apply border-t-0 pt-0 mt-0;
  }

  /* ============================================
     16. RESPONSIVE
     ============================================ */

  @media (max-width: 768px) {
    .app-wrapper {
      @apply flex-col overflow-y-auto;
    }

    .sidebar {
      @apply w-full h-auto border-r-0 border-b border-border;
    }

    .side-nav {
      @apply flex-row overflow-x-auto p-2.5;
    }

    .nav-item {
      @apply w-auto whitespace-nowrap py-2 px-3;
    }

    .main-content {
      @apply h-auto;
    }

    .solutions-grid {
      grid-template-columns: 1fr;
    }

    .solution-devices {
      grid-template-columns: 1fr;
    }

    .gallery {
      grid-template-columns: 1fr;
    }
  }
}

/* ============================================
   SCROLLBAR STYLES
   ============================================ */

/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(0, 0, 0, 0.25);
}

/* Dark background scrollbar (for log viewer etc.) */
.dark-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
}

.dark-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;
}

.dark-scrollbar {
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

/* ============================================
   17. DEVICE MANAGEMENT PAGE
   ============================================ */

.device-grid {
  @apply grid gap-6;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
}

.device-management-card {
  @apply bg-card rounded-lg shadow-sm border border-border overflow-hidden relative;
}

.device-card-delete {
  @apply absolute top-2 right-2 w-6 h-6 flex items-center justify-center rounded-full
         text-text-secondary hover:text-red-500 hover:bg-red-50 transition-colors z-10;
  opacity: 0;
}

.device-management-card:hover .device-card-delete {
  opacity: 1;
}

.device-management-card .device-card-header {
  @apply flex items-start justify-between p-5 border-b border-border bg-gray-50/50;
}

.device-management-card .device-card-title {
  @apply text-base font-semibold text-text-primary;
}

.device-management-card .device-card-subtitle {
  @apply text-sm text-text-secondary mt-1;
}

.device-management-card .device-card-body {
  @apply p-5;
}

.device-management-card .device-card-actions {
  @apply flex items-center gap-3 p-4 border-t border-border bg-gray-50/30;
}

.device-info-row {
  @apply flex items-center justify-between py-2;
}

.device-info-row:not(:last-child) {
  @apply border-b border-border/50;
}

.device-info-label {
  @apply text-sm text-text-secondary;
}

.device-info-value {
  @apply text-sm text-text-primary font-medium;
}

.device-info-value.link {
  @apply text-primary hover:underline;
}

/* Kiosk Toggle */
.kiosk-row {
  @apply py-3;
}

.kiosk-controls {
  @apply flex items-center;
}

.toggle-switch {
  @apply relative inline-block w-11 h-6;
}

.toggle-switch input {
  @apply opacity-0 w-0 h-0;
}

.toggle-slider {
  @apply absolute cursor-pointer inset-0 bg-gray-300 rounded-full;
  transition: 0.4s;
}

.toggle-slider::before {
  content: "";
  @apply absolute h-5 w-5 left-0.5 bottom-0.5 bg-white rounded-full;
  transition: 0.4s;
}

.toggle-switch input:checked + .toggle-slider {
  @apply bg-primary;
}

.toggle-switch input:checked + .toggle-slider::before {
  transform: translateX(20px);
}

.toggle-switch input:disabled + .toggle-slider {
  @apply bg-gray-200 cursor-not-allowed;
}

.kiosk-user {
  @apply text-xs text-text-muted;
}

/* Button Sizes */
.btn-sm {
  @apply py-1.5 px-3 text-xs;
}

/* Modal Overlay */
.modal-overlay {
  @apply fixed inset-0 bg-black/50 z-modal items-center justify-center;
}

.modal-overlay .modal-content {
  @apply bg-white rounded-lg p-6 shadow-xl;
}

.modal-overlay .modal-title {
  @apply text-lg font-semibold text-text-primary mb-2;
}

/* Input Styles */
.input {
  @apply w-full py-2 px-3 border border-border rounded-md text-sm bg-white;
}

.input:focus {
  @apply outline-none border-primary;
  box-shadow: 0 0 0 2px rgba(140, 198, 63, 0.1);
}

/* Page subtitle */
.page-subtitle {
  @apply text-sm mt-1;
}

/* ============================================
   KEYFRAMES
   ============================================ */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* Button spinning state */
.btn.spinning svg,
button.spinning svg {
  animation: spin 1s linear infinite;
}

.btn.spinning,
button.spinning {
  opacity: 0.7;
  cursor: wait;
}

/* ============================================
   PREVIEW WINDOW STYLES
   ============================================ */

.preview-window {
  @apply bg-gray-900 rounded-lg overflow-hidden;
}

.preview-header {
  @apply flex items-center justify-between px-4 py-2 bg-gray-800;
}

.preview-status-group {
  @apply flex items-center gap-3;
}

.preview-status {
  @apply flex items-center gap-1.5 text-xs;
}

.preview-status-dot {
  @apply w-2 h-2 rounded-full bg-gray-500;
}

.preview-status.connecting .preview-status-dot {
  @apply bg-yellow-400;
  animation: pulse 1s ease-in-out infinite;
}

.preview-status.connected .preview-status-dot {
  @apply bg-green-400;
}

.preview-status.error .preview-status-dot {
  @apply bg-red-400;
}

.preview-status-text {
  @apply text-gray-300;
}

.preview-stats {
  @apply flex items-center gap-4 text-xs text-gray-400;
}

.preview-stat {
  @apply font-mono;
}

.preview-container {
  @apply relative w-full bg-black;
  /* Aspect ratio set via inline style: padding-bottom: X% */
}

.preview-video {
  @apply absolute inset-0 w-full h-full object-contain;
}

.preview-canvas {
  @apply absolute inset-0 w-full h-full pointer-events-none;
}

.preview-overlay-info {
  @apply absolute bottom-2 left-2 text-xs text-white/60 font-mono;
}

.preview-controls {
  @apply flex items-center justify-between gap-3 px-4 py-3 bg-gray-800;
}

.preview-connect-btn {
  @apply flex-1;
}

.preview-fullscreen-btn {
  @apply !p-2.5;
}

.preview-fullscreen-btn:disabled {
  @apply opacity-40 cursor-not-allowed;
}

/* Preview container wrapper in deploy page */
.preview-container-wrapper {
  @apply mb-4;
}

/* Preview inputs styling */
.preview-inputs {
  @apply bg-gray-50 rounded-lg p-4 mb-4;
}

.preview-inputs .form-group {
  @apply mb-3;
}

.preview-inputs .form-group:last-child {
  @apply mb-0;
}

/* Fullscreen mode */
.preview-container:fullscreen {
  @apply bg-black;
  padding-bottom: 0 !important;
}

.preview-container:fullscreen .preview-video,
.preview-container:fullscreen .preview-canvas {
  @apply relative w-full h-full;
}

/* Pulse animation for connecting status */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

/* ============================================
   18. DEVICE CONFIGURATOR
   ============================================ */

.device-configurator {
  @apply mt-4 mb-6;
}

/* Presets Section */
.presets-section {
  @apply mb-4;
}

.presets-title {
  @apply text-xl font-semibold text-text-primary mt-6 mb-3 pb-1.5 border-b border-border/50 flex items-center gap-2;
}

.presets-grid {
  @apply grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3;
}

.preset-card {
  @apply relative bg-card rounded-lg p-3 border-2 border-border cursor-pointer;
  transition: all 0.2s ease;
}

.preset-card:hover {
  @apply border-primary/50 shadow-sm;
}

.preset-card.selected {
  @apply border-primary bg-primary-light/30;
}

.preset-badge {
  @apply absolute top-0 right-2 -translate-y-1/2 px-1.5 py-0.5 bg-primary text-white text-xs font-medium rounded-full;
}

.preset-name {
  @apply font-medium text-text-primary text-sm mb-0.5;
}

.preset-description {
  @apply text-xs text-text-secondary;
}

/* Divider */
.configurator-divider {
  @apply relative my-4 text-center;
}

.configurator-divider::before {
  content: '';
  @apply absolute left-0 right-0 top-1/2 h-px bg-border;
}

.configurator-divider span {
  @apply relative bg-white px-3 text-xs text-text-muted;
}

/* Device Chips Row - Compact inline display */
.device-chips-row {
  @apply flex flex-wrap gap-2;
}

.device-chip-dropdown {
  @apply relative;
}

.device-chip-trigger {
  @apply inline-flex items-center gap-2 px-3 py-1.5 bg-white border-2 border-border rounded-full text-sm cursor-default;
  transition: all 0.2s ease;
}

.device-chip-trigger.has-options {
  @apply cursor-pointer;
}

.device-chip-trigger.has-options:hover {
  @apply border-primary bg-primary-light/30;
}

.device-chip-trigger img {
  @apply w-6 h-6 object-contain rounded;
}

.device-chip-trigger .chip-name {
  @apply text-text-primary font-medium;
}

.device-chip-trigger .chip-qty-badge {
  @apply text-xs text-primary font-semibold bg-primary-light px-1.5 py-0.5 rounded;
}

.device-chip-trigger .chip-arrow {
  @apply text-text-muted ml-0.5;
  transition: transform 0.2s ease;
}

.device-chip-dropdown:has(.chip-dropdown-panel.open) .chip-arrow {
  transform: rotate(180deg);
}

/* Dropdown Panel */
.chip-dropdown-panel {
  @apply absolute top-full left-0 mt-1 bg-white border border-border rounded-lg shadow-lg z-50;
  min-width: 200px;
  display: none;
}

.chip-dropdown-panel.open {
  display: block;
  animation: dropdownFadeIn 0.15s ease-out;
}

@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Dropdown Options */
.dropdown-option {
  @apply flex items-center gap-3 px-3 py-2 cursor-pointer;
  transition: background-color 0.15s ease;
}

.dropdown-option:first-child {
  @apply rounded-t-lg;
}

.dropdown-option:last-child {
  @apply rounded-b-lg;
}

.dropdown-option:hover {
  @apply bg-gray-50;
}

.dropdown-option.selected {
  @apply bg-primary-light/50;
}

.dropdown-option img {
  @apply w-8 h-8 object-contain rounded;
}

.dropdown-option-info {
  @apply flex-1 min-w-0;
}

.dropdown-option-name {
  @apply block text-sm font-medium text-text-primary truncate;
}

.dropdown-option-label {
  @apply block text-xs text-text-secondary;
}

.dropdown-option-actions {
  @apply flex items-center gap-2 flex-shrink-0 ml-auto;
}

.dropdown-purchase-link {
  @apply p-1.5 rounded text-text-muted transition-colors;
}

.dropdown-purchase-link:hover {
  @apply bg-primary/10 text-primary;
}

.dropdown-check {
  @apply text-primary flex-shrink-0;
}

/* Dropdown Quantity Controls */
.dropdown-qty-controls {
  @apply flex items-center justify-center gap-2 p-3;
}

.dropdown-qty-controls .qty-btn {
  @apply w-7 h-7 rounded-full border border-border flex items-center justify-center cursor-pointer bg-white;
  transition: all 0.2s ease;
}

.dropdown-qty-controls .qty-btn:hover:not(:disabled) {
  @apply bg-primary text-white border-primary;
}

.dropdown-qty-controls .qty-btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.dropdown-qty-controls .qty-input {
  @apply w-14 text-center border border-border rounded py-1 text-sm;
}

.dropdown-qty-controls .qty-input:focus {
  @apply outline-none border-primary;
}

.dropdown-qty-purchase {
  @apply flex items-center justify-center gap-2 mx-3 mb-3 py-2 px-3;
  @apply text-sm text-text-secondary border border-border rounded-lg;
  @apply transition-colors;
}

.dropdown-qty-purchase:hover {
  @apply border-primary text-primary bg-primary/5;
}

/* Responsive */
@media (max-width: 768px) {
  .presets-grid {
    grid-template-columns: 1fr 1fr;
  }

  .device-chips-row {
    @apply flex-col;
  }

  .device-chip-trigger {
    @apply w-full justify-between;
  }

  .chip-dropdown-panel {
    @apply w-full;
  }
}

/* ============================================
   19. DEPLOYMENT RECORDS
   ============================================ */

.deployment-records {
  @apply flex flex-col gap-3;
}

.deployment-record-card {
  @apply bg-card rounded-lg border border-border shadow-sm overflow-hidden;
}

.deployment-record-header {
  @apply flex items-center justify-between p-4;
}

.deployment-record-info {
  @apply flex-1 min-w-0;
}

.deployment-record-title {
  @apply font-semibold text-text-primary text-sm;
}

.deployment-record-meta {
  @apply flex items-center gap-2 mt-1 text-xs text-text-secondary;
}

.deployment-record-device {
  @apply px-1.5 py-0.5 bg-gray-100 rounded text-text-muted;
}

.deployment-record-right {
  @apply flex items-center gap-2 flex-shrink-0;
}

.deployment-record-progress {
  @apply text-xs font-mono text-text-secondary bg-gray-100 px-2 py-0.5 rounded;
}

.deployment-record-expand {
  @apply w-7 h-7 flex items-center justify-center rounded text-text-muted
         hover:bg-gray-100 hover:text-text-primary transition-all cursor-pointer
         bg-transparent border-none;
}

.deployment-record-expand.expanded {
  transform: rotate(180deg);
}

.deployment-record-delete {
  @apply w-7 h-7 flex items-center justify-center rounded text-text-muted
         hover:bg-red-50 hover:text-red-500 transition-colors cursor-pointer
         bg-transparent border-none;
  opacity: 0;
}

.deployment-record-card:hover .deployment-record-delete {
  opacity: 1;
}

.deployment-record-steps {
  @apply border-t border-border bg-gray-50/50 px-4 py-3;
}

.step-item {
  @apply flex items-center gap-3 py-2;
}

.step-item-icon {
  @apply w-5 h-5 flex items-center justify-center flex-shrink-0;
}

.step-item-name {
  @apply flex-1 text-sm text-text-primary;
}

.step-item-status {
  @apply text-xs text-text-secondary;
}

.step-item.completed .step-item-name {
  @apply text-text-secondary;
}

.step-item.failed .step-item-name {
  @apply text-danger;
}

/* Deployment Group (multiple deployments grouped together) */
.deployment-group {
  @apply bg-card;
}

.deployment-group-expand {
  @apply w-7 h-7 flex items-center justify-center rounded text-text-muted
         hover:bg-gray-100 hover:text-text-primary transition-all cursor-pointer
         bg-transparent border-none;
}

.deployment-group-expand.expanded {
  transform: rotate(180deg);
}

.deployment-group-children {
  @apply border-t border-border bg-gray-50/30;
}

/* Child cards within a group */
.deployment-child-card {
  @apply border-b border-border/50 last:border-b-0;
}

.deployment-child-header {
  @apply flex items-center justify-between px-4 py-3 pl-8;
}

.deployment-child-info {
  @apply flex items-center gap-3 text-sm;
}

.deployment-child-device {
  @apply font-medium text-text-primary;
}

.deployment-child-time {
  @apply text-xs text-text-secondary;
}

.deployment-child-right {
  @apply flex items-center gap-2;
}

.deployment-child-card .deployment-record-steps {
  @apply ml-4 border-l border-border/50 border-t-0 bg-gray-50/50;
}

.deployment-child-card .deployment-record-expand {
  @apply w-6 h-6;
}

.deployment-child-card .deployment-record-delete {
  @apply w-6 h-6;
  opacity: 0;
}

.deployment-child-card:hover .deployment-record-delete {
  opacity: 1;
}

/* Small status badge for child items */
.status-badge.sm {
  @apply text-xs px-1.5 py-0.5;
}

/* Deployment Summary Stats */
.deployment-summary-stats {
  @apply flex gap-6;
}

.deployment-stat {
  @apply text-center;
}

.deployment-stat-value {
  @apply text-2xl font-bold text-text-primary;
}

.deployment-stat-label {
  @apply text-xs text-text-secondary mt-1;
}

/* ============================================
   20. DOCKER DEVICE MANAGEMENT
   ============================================ */

/* Device Mode Toggle */
.device-mode-toggle {
  @apply inline-flex rounded-lg border border-border bg-gray-100 p-1;
}

.device-mode-btn {
  @apply px-4 py-2 text-sm font-medium rounded-md flex items-center gap-2
         text-text-secondary bg-transparent transition-all duration-200;
}

.device-mode-btn:hover:not(.active) {
  @apply text-text-primary bg-gray-200/50;
}

.device-mode-btn.active {
  @apply bg-white text-text-primary shadow-sm;
}

.device-mode-btn svg {
  @apply opacity-60;
}

.device-mode-btn.active svg {
  @apply opacity-100;
}

.docker-connect-card {
  @apply bg-card rounded-lg border border-border shadow-sm p-5;
}

.docker-connect-header {
  @apply flex items-center justify-between mb-4;
}

.docker-connect-title {
  @apply text-base font-semibold text-text-primary flex items-center gap-2 m-0;
}

.docker-connect-form {
  @apply w-full;
}

.docker-connect-fields {
  @apply grid gap-4;
  grid-template-columns: 1fr 1fr 1fr auto;
}

@media (max-width: 768px) {
  .docker-connect-fields {
    grid-template-columns: 1fr;
  }
}

.containers-header {
  @apply flex items-center justify-between;
}

.container-table {
  @apply bg-card rounded-lg border border-border overflow-hidden;
}

.container-table-header {
  @apply grid gap-3 px-4 py-3 bg-gray-50 border-b border-border text-xs font-semibold text-text-secondary uppercase;
  grid-template-columns: 2fr 2fr 1fr 1fr 1fr;
}

.container-table-row {
  @apply grid gap-3 px-4 py-3 items-center text-sm border-b border-border/50;
  grid-template-columns: 2fr 2fr 1fr 1fr 1fr;
}

.container-table-row:last-child {
  @apply border-b-0;
}

.container-table-row:hover {
  @apply bg-gray-50/50;
}

.container-col-name {
  @apply font-medium text-text-primary truncate;
}

.container-col-image {
  @apply text-text-secondary truncate;
}

.container-col-version {
  @apply flex items-center gap-1;
}

.container-version-tag {
  @apply px-1.5 py-0.5 bg-gray-100 rounded text-xs font-mono text-text-primary;
}

.container-update-badge {
  @apply w-4 h-4 bg-warning text-white text-xs font-bold rounded-full flex items-center justify-center;
}

.container-col-actions {
  @apply flex items-center gap-1;
}

.container-name-text {
  @apply truncate;
}

@media (max-width: 768px) {
  .container-table-header,
  .container-table-row {
    grid-template-columns: 1fr 1fr 1fr;
  }

  .container-col-image,
  .container-col-version {
    display: none;
  }
}

/* Info icon for single-option chips */
.chip-info-icon {
  @apply text-text-muted ml-1 flex-shrink-0;
  opacity: 0.6;
}

.device-chip-trigger:hover .chip-info-icon {
  opacity: 1;
  color: var(--primary);
}

/* Device Info Panel (for single-option device groups) */
.device-info-panel {
  @apply p-4;
  min-width: 260px;
}

.device-info-content {
  @apply flex items-start gap-3 mb-3;
}

.device-info-content img {
  @apply w-16 h-16 object-contain rounded-lg bg-gray-50 flex-shrink-0;
}

.device-info-text {
  @apply flex flex-col gap-1;
}

.device-info-name {
  @apply font-medium text-text-primary text-sm;
}

.device-info-desc {
  @apply text-xs text-text-muted leading-relaxed;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.device-purchase-btn {
  @apply flex items-center justify-center gap-2 w-full py-2 px-4;
  @apply bg-primary text-white text-sm font-medium rounded-lg;
  @apply transition-all;
}

.device-purchase-btn:hover {
  @apply opacity-90;
  transform: translateY(-1px);
}

/* ============================================
   21. SOLUTION MANAGEMENT PAGE
   ============================================ */

.management-page {
  /* Left-aligned like other pages, no centering */
}

.management-page .page-header {
  @apply flex items-center justify-between mb-6;
}

/* Management Table */
.management-table-container {
  @apply bg-card rounded-lg border border-border shadow-sm overflow-hidden;
}

.management-table {
  @apply w-full text-sm;
}

.management-table thead {
  @apply bg-gray-50 border-b border-border;
}

.management-table th {
  @apply px-4 py-3 text-left font-semibold text-text-secondary text-xs uppercase tracking-wide;
}

.management-table tbody tr {
  @apply border-b border-border/50;
  transition: background-color 0.15s;
}

.management-table tbody tr:last-child {
  @apply border-b-0;
}

.management-table tbody tr:hover {
  @apply bg-gray-50/50;
}

.management-table td {
  @apply px-4 py-3 text-text-primary;
}

.solution-name-cell {
  @apply flex items-center gap-3;
}

.solution-thumb {
  @apply w-10 h-10 rounded object-cover bg-gray-100;
}

/* Category Badges */
.category-badge {
  @apply px-2 py-0.5 rounded text-xs font-medium;
  /* Default style for undefined categories */
  @apply bg-gray-100 text-gray-700;
}

/* Optional: define specific colors for known categories */
.category-badge.category-voice_ai { @apply bg-purple-100 text-purple-700; }
.category-badge.category-sensing { @apply bg-blue-100 text-blue-700; }
.category-badge.category-automation { @apply bg-orange-100 text-orange-700; }
.category-badge.category-vision { @apply bg-green-100 text-green-700; }
.category-badge.category-smart_building { @apply bg-amber-100 text-amber-700; }
.category-badge.category-industrial_iot { @apply bg-cyan-100 text-cyan-700; }

/* Difficulty Badges */
.difficulty-badge {
  @apply px-2 py-0.5 rounded text-xs font-medium;
}

.difficulty-badge.difficulty-beginner { @apply bg-green-100 text-green-700; }
.difficulty-badge.difficulty-intermediate { @apply bg-yellow-100 text-yellow-700; }
.difficulty-badge.difficulty-advanced { @apply bg-red-100 text-red-700; }

/* Table Actions */
.table-actions {
  @apply flex items-center gap-1;
}

.btn-icon {
  @apply w-8 h-8 flex items-center justify-center rounded text-text-secondary
         bg-transparent border-none cursor-pointer;
  transition: all 0.15s;
}

.btn-icon:hover {
  @apply bg-gray-100 text-text-primary;
}

.btn-icon.btn-icon-danger:hover {
  @apply bg-red-50 text-red-500;
}

/* Modal Large */
.modal-lg {
  max-width: 700px !important;
}

/* Form Sections */
.form-section {
  @apply mb-6 pb-6 border-b border-border;
}

.form-section:last-child {
  @apply mb-0 pb-0 border-b-0;
}

.form-section-title {
  @apply text-sm font-semibold text-text-primary mb-4 uppercase tracking-wide;
}

/* Form Row Layout */
.form-row {
  @apply grid gap-4;
  grid-template-columns: 1fr 1fr;
}

.form-row-3 {
  grid-template-columns: 1fr 1fr 1fr;
}

@media (max-width: 640px) {
  .form-row,
  .form-row-3 {
    grid-template-columns: 1fr;
  }
}

/* Form Hint */
.form-hint {
  @apply text-xs text-text-muted mt-1;
}

/* File Upload Area */
.file-upload-area {
  @apply relative border-2 border-dashed border-border rounded-lg p-4 cursor-pointer;
  transition: all 0.2s;
}

.file-upload-area:hover {
  @apply border-primary bg-primary-light/20;
}

.file-upload-area.drag-over {
  @apply border-primary bg-primary-light/30;
}

.file-upload-area.uploading {
  @apply opacity-70 pointer-events-none;
}

.file-upload-content {
  @apply flex flex-col items-center justify-center gap-2 text-text-secondary text-center;
}

.file-upload-content svg {
  @apply text-text-muted;
}

.file-upload-content p {
  @apply text-sm m-0;
}

.file-upload-content .file-uploaded {
  @apply text-xs text-success mt-1;
}

.file-input {
  @apply absolute inset-0 opacity-0 cursor-pointer;
}

/* Checkbox Label */
.checkbox-label {
  @apply flex items-center gap-2 cursor-pointer text-sm text-text-secondary;
}

.checkbox-label input[type="checkbox"] {
  @apply w-4 h-4 rounded border-border text-primary focus:ring-primary;
}

/* Empty State */
.empty-state {
  @apply flex flex-col items-center justify-center py-16 text-center;
}

.empty-state svg {
  @apply mb-4;
}

/* Spinner */
.spinner {
  @apply w-6 h-6 border-2 border-primary border-t-transparent rounded-full;
  animation: spin 0.8s linear infinite;
}

.spinner-sm {
  @apply inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full;
  animation: spin 0.8s linear infinite;
}

.loading-spinner {
  @apply flex items-center justify-center gap-3 py-16 text-text-secondary;
}

/* ============================================
   22. DEVICE RESTORE SECTION
   ============================================ */

.restore-section {
  @apply border-t border-border pt-8;
}

.restore-section-standalone {
  /* No border when shown as main content in embedded mode */
}

.restore-header {
  @apply flex flex-col gap-1;
}

.restore-card {
  @apply bg-card rounded-lg border border-border shadow-sm p-5;
}

.restore-device-options {
  @apply grid gap-3;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.restore-device-option {
  @apply relative flex items-center gap-3 p-4 bg-white border-2 border-border rounded-xl
         cursor-pointer transition-all duration-200;
}

.restore-device-option:hover:not(.selected) {
  @apply border-primary/50 bg-primary/5;
}

.restore-device-option.selected {
  @apply border-primary bg-primary/5;
}

.restore-device-option input[type="radio"] {
  @apply sr-only;
}

.restore-device-radio {
  @apply w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center
         transition-all duration-200 flex-shrink-0;
}

.restore-device-option.selected .restore-device-radio {
  @apply border-primary bg-primary;
}

.restore-device-option.selected .restore-device-radio::after {
  content: '';
  @apply w-2 h-2 bg-white rounded-full;
}

.restore-device-info {
  @apply flex-1;
}

.restore-device-name {
  @apply font-medium text-text-primary text-sm;
}

.restore-device-desc {
  @apply text-xs text-text-secondary mt-0.5;
}

.restore-config {
  @apply bg-gray-50 rounded-lg p-4 border border-border/50;
}

.restore-action {
  @apply flex justify-start;
}

.restore-progress {
  @apply bg-gray-50 rounded-lg p-4;
}

.restore-logs {
  @apply border-t border-border pt-4;
}
