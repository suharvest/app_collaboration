## 概述

本演示展示了**实时预览**功能，实现视频流与推理结果的实时叠加显示。它结合了：

- **RTSP 视频流**: 在浏览器中查看实时摄像头画面
- **MQTT 消息显示**: 实时接收和可视化推理结果
- **Canvas 叠加层**: 在视频上绘制边界框、标签和其他标注

## 使用场景

| 场景 | 说明 |
|------|------|
| AI 摄像头监控 | 查看边缘 AI 摄像头的目标检测结果 |
| 质量检测 | 监控带有缺陷检测叠加显示的生产线 |
| 智慧零售 | 显示客流分析和热力图 |
| 安防系统 | 实时查看人员/车辆检测 |

## 工作原理

1. **RTSP 转 HLS**: 后端将 RTSP 流转换为 HLS 格式以便浏览器播放
2. **MQTT 转 WebSocket**: MQTT 消息通过 WebSocket 转发到浏览器
3. **Canvas 渲染**: 使用自定义或内置渲染器在视频上绘制推理结果

## 支持的数据格式

预览功能自动检测并渲染常见的推理结果格式：

- **边界框**: 带有类别和置信度的目标检测结果
- **姿态关键点**: 带有骨架连接的人体姿态估计
- **分割掩码**: 实例分割或语义分割结果
- **分类结果**: 带有置信度条的图像分类
- **热力图**: 注意力或显著性图叠加

## 自定义渲染

开发者可以提供自定义绘制脚本以实现特殊的可视化效果。请参阅文档了解叠加层脚本 API。
