version: "1.0"
id: xiaozhi_display
name: Xiaozhi AI Display Cast
name_zh: 小智投屏

# ============ 介绍页内容 ============
intro:
  summary: Cast Xiaozhi AI assistant conversations to large displays with audio amplification
  summary_zh: 将小智 AI 助手对话投射到大屏幕，支持音频放大输出

  description_file: intro/description.md
  description_file_zh: intro/description_zh.md

  cover_image: intro/gallery/cover.svg

  gallery:
    - type: image
      src: intro/gallery/architecture.svg
      caption: System Architecture
      caption_zh: 系统架构
    - type: image
      src: intro/gallery/demo.svg
      caption: Display Demo
      caption_zh: 展示效果

  category: voice_ai
  tags:
    - watcher
    - display
    - voice
    - xiaozhi
    - recomputer

  # Device Catalog (references global catalog, with local overrides)
  # Global catalog: devices/catalog.yaml
  device_catalog:
    sensecap_watcher:
      image: intro/gallery/watcher.svg  # Use local image

    recomputer_r1000:
      image: intro/gallery/recomputer.svg  # Use local image

    hdmi_display: {}  # Use global catalog as-is

  # Device Groups
  device_groups:
    - id: voice_assistant
      name: Voice Assistant
      name_zh: 语音助手
      type: single
      required: true
      options:
        - device_ref: sensecap_watcher
      default: sensecap_watcher

    - id: edge_device
      name: Edge Computing Device
      name_zh: 边缘计算设备
      type: single
      required: true
      options:
        - device_ref: recomputer_r1000
      default: recomputer_r1000

    - id: display
      name: Display
      name_zh: 显示器
      type: single
      required: true
      options:
        - device_ref: hdmi_display
      default: hdmi_display

  # Presets
  presets:
    - id: default
      name: Standard Deployment
      name_zh: 标准部署
      selections:
        voice_assistant: sensecap_watcher
        edge_device: recomputer_r1000
        display: hdmi_display
      links:
        github: https://github.com/78/xiaozhi-esp32
      section:
        title: Deployment Guide
        title_zh: 部署指南
        description_file: deploy/guide.md
        description_file_zh: deploy/guide_zh.md

  stats:
    deployed_count: 0
    likes_count: 0
    difficulty: intermediate
    estimated_time: 30min

# ============ 部署页内容 ============
deployment:
  guide_file: deploy/guide.md
  guide_file_zh: deploy/guide_zh.md

  # 部署模式: sequential (按顺序执行)
  selection_mode: sequential

  devices:
    # Step 1: 烧录 Watcher 固件
    - id: watcher
      name: Flash Watcher Firmware
      name_zh: 烧录 Watcher 固件
      type: esp32_usb
      required: true
      config_file: devices/watcher.yaml
      section:
        title: Step 1 - Flash Watcher Firmware
        title_zh: 第一步 - 烧录 Watcher 固件
        description_file: deploy/sections/watcher.md
        description_file_zh: deploy/sections/watcher_zh.md
        wiring:
          steps:
            - Connect Watcher to computer via USB-C
            - Select the serial port
            - Click Flash to program the firmware
          steps_zh:
            - 使用 USB-C 线连接 Watcher 到电脑
            - 选择串口
            - 点击烧录按钮写入固件

    # Step 2: 部署投屏服务
    - id: display_service
      name: Deploy Display Service
      name_zh: 部署投屏服务
      type: docker_deploy
      required: true
      config_file: devices/display_local.yaml
      section:
        title: Step 2 - Deploy Display Service
        title_zh: 第二步 - 部署投屏服务
      targets:
        local:
          name: Local Deployment
          name_zh: 本机部署
          description: Deploy on this computer
          description_zh: 部署到当前电脑
          default: true
          config_file: devices/display_local.yaml
          section:
            description_file: deploy/sections/display_local.md
            description_file_zh: deploy/sections/display_local_zh.md
            wiring:
              image: intro/gallery/architecture.svg
              steps:
                - Ensure Docker is installed and running
                - Click Deploy button to start services
              steps_zh:
                - 确保 Docker 已安装并运行
                - 点击部署按钮启动服务
        remote:
          name: Remote Deployment
          name_zh: 远程部署
          description: Deploy to reComputer/Raspberry Pi via SSH
          description_zh: 通过 SSH 部署到 reComputer/树莓派
          config_file: devices/recomputer.yaml
          section:
            description_file: deploy/sections/display_remote.md
            description_file_zh: deploy/sections/display_remote_zh.md
            wiring:
              image: intro/gallery/architecture.svg
              steps:
                - Connect target device to network
                - Enter IP address and SSH credentials
                - Click Deploy to install on remote device
              steps_zh:
                - 将目标设备连接到网络
                - 输入 IP 地址和 SSH 凭据
                - 点击部署安装到远程设备

  order:
    - watcher
    - display_service

  post_deployment:
    success_message_file: deploy/success.md
    success_message_file_zh: deploy/success_zh.md
    next_steps:
      - title: Access Display Web UI
        title_zh: 访问投屏 Web 界面
        action: open_url
        url: "http://{{display_service.host}}:8765"
      - title: Configure Watcher
        title_zh: 配置 Watcher
        description: Set display server address in Watcher settings
        description_zh: 在 Watcher 设置中配置投屏服务器地址
