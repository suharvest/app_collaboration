本方案包含两套功能，你可以按需选择部署：

## 功能一：人脸识别（步骤 1-4）

让小智认识你的脸，进门自动打招呼。

**需要准备**：
- SenseCAP Watcher
- USB-C 数据线
- WiFi 网络

## 功能二：投屏（步骤 5-6）

把小智对话投射到大屏幕。

**需要准备**：
- SenseCAP Watcher
- USB-C 数据线
- 运行 Docker 的电脑或树莓派
- HDMI 显示器
- 所有设备在同一局域网

## 连接设备

用 USB-C 线连接 Watcher 到电脑后，会出现两个串口：

| 串口类型 | 用途 |
|---------|------|
| wchusbserial* | 烧录小智固件 |
| usbmodem* | 烧录人脸识别固件 |

## 可跳过的步骤

- 如果只需要人脸识别，完成步骤 1-4 即可
- 如果只需要投屏，可以跳过步骤 1-4，只做步骤 5-6

## 套餐: 人脸识别 {#face_recognition}

给小智装上"眼睛"，让它认识你的家人朋友。

## 你需要准备

| 项目 | 说明 |
|------|------|
| SenseCAP Watcher | 主设备 |
| USB-C 数据线 | 用于连接电脑烧录固件 |
| WiFi 网络 | 设备需要联网 |

## 连接设备

用 USB-C 线连接 Watcher 到电脑后，会出现两个串口：

| 串口类型 | 用于烧录 |
|---------|---------|
| wchusbserial* | 小智固件（第一步） |
| usbmodem* | 人脸识别固件（第二步） |

## 部署完成后

说"记住我的脸，我叫小明"来录入人脸，下次进入镜头范围时小智会主动打招呼。

## 步骤 1: 烧录小智固件 {#face_esp32 type=esp32_usb required=true config=devices/watcher_esp32.yaml}

### 连接设备

1. 用 USB-C 线连接 Watcher 到电脑
2. 在上方选择串口（选 wchusbserial 开头的）
3. 点击烧录按钮

### 故障排查

| 问题 | 解决方法 |
|------|----------|
| 找不到串口 | 换一条 USB 线或换个 USB 口 |
| 收不到串口数据 | 按住 BOOT 按钮，按一下 RESET，松开 BOOT，然后重试 |
| 烧录失败 | 重新插拔设备再试 |

---

## 步骤 2: 烧录人脸识别固件 {#face_himax type=himax_usb required=true config=devices/watcher_himax.yaml}

### 连接设备

1. 确保 Watcher 已连接到电脑
2. 在上方选择串口（选 usbmodem 开头的）
3. 点击烧录按钮

### 进入烧录模式

点击烧录后，需要按一下设备的重启按钮，让设备进入烧录模式。

### 故障排查

| 问题 | 解决方法 |
|------|----------|
| 设备无响应 | 重新插拔 USB 线 |
| 烧录卡住或失败 | 按重启按钮重试 |
| 反复烧录失败 | 换一条 USB 线或换个 USB 口 |

---

## 步骤 3: 配置小智 {#face_configure type=manual required=false}

### 连接 WiFi

设备开机后会提示配网，按语音指引完成 WiFi 连接。

### 绑定小智账号

1. 打开小智 App
2. 扫描设备上显示的二维码
3. 完成绑定

### 测试功能

说"小智小智"唤醒设备，然后说"记住我的脸，我叫小明"测试人脸录入。

---

## 步骤 4: 人脸录入指南 {#face_enrollment type=manual required=false}

### 录入人脸

1. 唤醒小智："小智小智"
2. 说："记住我的脸，我叫**你的名字**"
3. 正对摄像头，保持光线充足
4. 听到"录入成功"即完成

### 测试识别

1. 离开摄像头画面
2. 再次出现在摄像头前
3. 设备会说"检测到**你的名字**"

### 管理人脸

| 操作 | 语音命令 |
|------|----------|
| 查看已录入的人 | "你认识谁" |
| 删除某人 | "删除小明的人脸" |

### 注意事项

- 录入时必须说名字
- 光线不好会影响识别
- 最多存 20 个人

---

## 套餐: 大屏投屏 {#display_cast}

把小智对话投射到电视或大屏幕，适合展厅、会议室等多人场景。

## 你需要准备

| 项目 | 说明 |
|------|------|
| SenseCAP Watcher | 语音助手设备 |
| USB-C 数据线 | 用于烧录固件 |
| 电脑或树莓派 | 需安装 Docker，运行投屏服务 |
| HDMI 显示器 | 显示投屏内容 |
| 局域网 | 所有设备需在同一网络 |

## 部署流程

1. 烧录 Watcher 投屏固件
2. 在电脑/树莓派上部署投屏服务

## 部署完成后

- 在显示设备上打开 `http://<设备IP>:8765`
- 按 `F` 进入全屏模式
- 与 Watcher 对话，内容将显示在大屏上

## 步骤 1: 烧录 Watcher 固件 {#display_watcher type=esp32_usb required=true config=devices/display_watcher.yaml}

### 连接设备

1. 使用 USB-C 数据线连接 Watcher 到电脑
2. 在上方选择对应的串口
3. 如未检测到，请尝试其他 USB 口或更换数据线

---

## 步骤 2: 部署投屏服务 {#display_service type=docker_deploy required=true config=devices/display_local.yaml}

### 部署目标: 本机部署 {#display_service_local config=devices/display_local.yaml default=true}

## 本机部署

将投屏服务部署到您的本地电脑。

### 前提条件

- Docker Desktop 已安装并运行
- 端口 8765 可用

### 部署完成后

1. 在浏览器打开 `http://localhost:8765`
2. 按 `F` 进入全屏模式
3. 唤醒 Watcher，说"打开设置"
4. 找到"投屏地址"，说出服务器地址（如 `你的IP:8765`）

![接线图](intro/gallery/architecture.svg)

### 部署目标: 远程部署 {#display_service_remote config=devices/recomputer.yaml}

## 远程部署

将投屏服务部署到远程设备（reComputer、树莓派等）。

### 开始之前

1. 将目标设备连接到网络
2. 获取设备 IP 地址
3. 获取 SSH 凭据（用户名/密码）

### 部署完成后

1. 在显示设备浏览器打开 `http://<设备IP>:8765`
2. 按 `F` 进入全屏模式
3. 唤醒 Watcher，说"打开设置"
4. 找到"投屏地址"，说出服务器地址（如 `192.168.1.100:8765`）

![接线图](intro/gallery/architecture.svg)

---

# 部署完成

## 部署完成！

你的空间 AI 智能体已就绪。

### 人脸识别功能

**测试方法**：
- 说"记住我的脸，我叫小明"录入人脸
- 下次进入镜头范围时，小智会主动打招呼

**语音命令**：
- 录入："记住我的脸，我叫[名字]"
- 删除："删除[名字]的人脸"
- 查询："你认识谁"

### 投屏功能

**测试方法**：
1. 在显示设备上访问 `http://<设备IP>:8765`
2. 按 `F` 进入全屏模式
3. 与 Watcher 对话 - 内容将显示在大屏幕上

### 常见问题

| 问题 | 解决方案 |
|------|----------|
| 人脸识别不工作 | 确保光线充足，正对摄像头 |
| 投屏无声音 | 检查 HDMI 音频设置 |
| Watcher 未连接投屏 | 确认在同一网络 |
