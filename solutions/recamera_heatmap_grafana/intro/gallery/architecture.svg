<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="boxGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2a2a4a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a1a3a;stop-opacity:1" />
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8CC63F"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="500" fill="#0f0f1a"/>

  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="22" font-weight="bold">System Architecture</text>

  <!-- reCamera Box -->
  <g transform="translate(50, 80)">
    <rect width="200" height="280" rx="12" fill="url(#boxGrad)" stroke="#8CC63F" stroke-width="2"/>
    <text x="100" y="30" text-anchor="middle" fill="#8CC63F" font-family="Arial, sans-serif" font-size="16" font-weight="bold">reCamera</text>

    <!-- Camera icon -->
    <rect x="60" y="50" width="80" height="50" rx="8" fill="#1a1a2a" stroke="#666" stroke-width="1"/>
    <circle cx="100" cy="75" r="15" fill="#333" stroke="#888" stroke-width="1"/>

    <!-- YOLO11n -->
    <rect x="30" y="120" width="140" height="35" rx="6" fill="#3a3a5a"/>
    <text x="100" y="143" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">YOLO11n Detection</text>

    <!-- Privacy Blur -->
    <rect x="30" y="165" width="140" height="35" rx="6" fill="#3a3a5a"/>
    <text x="100" y="188" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">Privacy Blur</text>

    <!-- Node-RED -->
    <rect x="30" y="210" width="140" height="35" rx="6" fill="#8f0000"/>
    <text x="100" y="233" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">Node-RED</text>
  </g>

  <!-- Arrow 1 -->
  <line x1="260" y1="220" x2="340" y2="220" stroke="#8CC63F" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="300" y="205" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Coordinates</text>

  <!-- InfluxDB Box -->
  <g transform="translate(350, 120)">
    <rect width="200" height="200" rx="12" fill="url(#boxGrad)" stroke="#22ADF6" stroke-width="2"/>
    <text x="100" y="30" text-anchor="middle" fill="#22ADF6" font-family="Arial, sans-serif" font-size="16" font-weight="bold">InfluxDB 2.x</text>

    <!-- Database icon -->
    <ellipse cx="100" cy="70" rx="50" ry="15" fill="#1a1a3a" stroke="#22ADF6" stroke-width="1"/>
    <rect x="50" y="70" width="100" height="50" fill="#1a1a3a" stroke="#22ADF6" stroke-width="1"/>
    <ellipse cx="100" cy="120" rx="50" ry="15" fill="#1a1a3a" stroke="#22ADF6" stroke-width="1"/>

    <!-- Data labels -->
    <text x="100" y="155" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Time-series Data</text>
    <text x="100" y="175" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">x, y, timestamp</text>
  </g>

  <!-- Arrow 2 -->
  <line x1="560" y1="220" x2="640" y2="220" stroke="#8CC63F" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="600" y="205" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Query</text>

  <!-- Grafana Box -->
  <g transform="translate(650, 80)">
    <rect width="200" height="280" rx="12" fill="url(#boxGrad)" stroke="#F46800" stroke-width="2"/>
    <text x="100" y="30" text-anchor="middle" fill="#F46800" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Grafana</text>

    <!-- Dashboard panels -->
    <rect x="20" y="50" width="160" height="60" rx="6" fill="#1a1a2a" stroke="#444" stroke-width="1"/>
    <text x="100" y="85" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Heatmap Panel</text>

    <rect x="20" y="120" width="75" height="50" rx="6" fill="#1a1a2a" stroke="#444" stroke-width="1"/>
    <text x="57" y="150" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">Count</text>

    <rect x="105" y="120" width="75" height="50" rx="6" fill="#1a1a2a" stroke="#444" stroke-width="1"/>
    <text x="142" y="150" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">Stats</text>

    <rect x="20" y="180" width="160" height="60" rx="6" fill="#1a1a2a" stroke="#444" stroke-width="1"/>
    <text x="100" y="215" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Live Video Feed</text>
  </g>

  <!-- User/Browser -->
  <g transform="translate(700, 400)">
    <rect width="100" height="60" rx="6" fill="#2a2a4a" stroke="#888" stroke-width="1"/>
    <text x="50" y="35" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12">Browser</text>
    <text x="50" y="52" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">:3000</text>
  </g>

  <!-- Arrow to browser -->
  <line x1="750" y1="365" x2="750" y2="395" stroke="#F46800" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Legend -->
  <g transform="translate(50, 420)">
    <text x="0" y="0" fill="#888" font-family="Arial, sans-serif" font-size="12">Data Flow:</text>
    <line x1="80" y1="-4" x2="130" y2="-4" stroke="#8CC63F" stroke-width="2" marker-end="url(#arrow)"/>
  </g>
</svg>
