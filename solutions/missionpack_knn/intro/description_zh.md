## 概述

本暖通自动化控制系统基于 KNN（K-最近邻）回归算法，利用历史运行数据预测最优设备参数。通过 OPC-UA 协议与暖通设备通信，实现智能化自动运维。

## 核心功能

- **智能预测** - 基于历史数据，使用 KNN 回归算法预测最优输出参数
- **OPC-UA 集成** - 通过标准 OPC-UA 协议连接工业设备
- **直接/隔离下发** - 支持将预测值下发到实际设备或在模拟模式下测试
- **持续监控** - 可配置读取间隔的实时参数监控
- **Web 界面** - 基于 Vue.js 的现代化配置和监控界面

## 应用场景

| 场景 | 说明 |
|------|------|
| 暖通优化 | 根据历史运行模式自动调节供暖/制冷参数 |
| 节能降耗 | 通过预测最优设定点降低能源消耗 |
| 预测性维护 | 监控参数变化趋势，提前预判维护需求 |
| 测试验证 | 使用隔离下发模式在实际部署前验证预测效果 |

## 系统架构

系统由三个主要组件构成：

1. **Web 界面** - Vue.js 前端，用于配置、监控和控制
2. **FastAPI 后端** - 处理预测、OPC-UA 通信和数据管理
3. **OPC-UA 客户端** - 连接工业暖通控制器

## 工作流程

1. 连接到 OPC-UA 服务器
2. 上传历史训练数据（CSV 格式）
3. 训练 KNN 预测模型
4. 配置输入/输出参数映射
5. 启动自动参数读取和预测
6. 通过直接或隔离方式下发预测值

## 技术规格

- **算法**：KNN 回归，可配置 K 值
- **协议**：OPC-UA（统一架构）
- **API**：RESTful HTTP + WebSocket 支持
- **容器**：Docker + docker-compose 支持
- **端口**：8280（Web 界面），4841（OPC-UA 模拟器）
