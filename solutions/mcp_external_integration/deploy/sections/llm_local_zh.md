# Jetson AI 服务部署

在 Jetson 设备上部署本地 AI 对话和语音合成服务，实现完全离线运行。

## 为什么需要这个

边缘计算方案下，AI 对话和语音播报都在本地设备处理，数据不出厂区，适合对数据安全要求高的场景。

## 硬件要求

| 要求 | 说明 |
|------|------|
| 设备 | reComputer J4012（16GB）或 J3011（8GB） |
| 系统 | 已安装 JetPack 5.x / 6.x |
| 磁盘 | 至少 15GB 可用空间 |
| 网络 | 能与语音服务设备（R1100）通信 |

## 模型选择

根据您的 Jetson 设备选择合适的模型：

| 模型 | 显存需求 | 推荐设备 | 说明 |
|------|----------|----------|------|
| Qwen3-8B | ~4.3GB | J4012 (16GB) | 最佳质量 |
| Qwen3-4B | ~2.5GB | J3011 (8GB) | 较好质量 |
| Qwen3-1.7B | ~1.2GB | 轻量部署 | 基础质量 |

## 部署方式

### 离线包部署（推荐）

- 使用预下载的镜像和模型文件
- 无需联网，部署速度快
- 文件大小：镜像 ~6.6GB + 模型 ~4.1GB

### 在线下载

- 从镜像仓库下载
- 需要稳定网络连接
- 首次下载可能需要较长时间

## 服务说明

| 端口 | 服务 | 功能 |
|------|------|------|
| 8000 | 统一代理 | LLM + TTS 统一入口 |

## 性能参考

| 项目 | Qwen3-8B | Qwen3-4B |
|------|----------|----------|
| 生成速度 | ~16.5 字/秒 | ~25 字/秒 |
| 首字延迟 | ~300ms | ~200ms |
| TTS 延迟 | ~160ms | ~160ms |
| 显存占用 | ~6-7GB | ~4GB |

## 故障排除

| 问题 | 解决方案 |
|------|---------|
| NVIDIA 运行时错误 | 确认 nvidia-container-runtime 已安装 |
| 显存不足 | 选择更小的模型（4B 或 1.7B） |
| 启动很慢 | 首次启动需加载模型，请等待 1-2 分钟 |
| 网络不通 | 确保 Jetson 和 R1100 在同一网络 |
| 上传包太慢 | 建议使用 SCP 或 U 盘拷贝离线包 |
